# 進貨單商品項目QR Code功能說明

## 功能概述

本功能實現了進貨單商品項目的詳細列表顯示和QR Code標籤生成功能，支援繁體中文和英文雙語界面。

## 主要功能

### 1. 進貨單商品項目列表

#### 功能特色
- 顯示詳細的商品項目信息，包括：
  - 商品序號
  - 商品名稱
  - 規格
  - 數量
  - 包裝規格
  - 箱數
  - 單價
  - 小計
  - 有效期限
  - 操作按鈕

#### 響應式設計
- 支援桌面端和移動端顯示
- 表格在小螢幕上可橫向滾動
- 自適應不同螢幕尺寸

### 2. QR Code標籤生成功能

#### 功能特色
- 點擊「生成QR」按鈕打開QR Code生成彈出窗口
- 顯示商品詳細信息
- 自動計算需要的外箱標籤數量
- 可自定義生成標籤數量
- 支援批量下載PDF格式標籤

#### QR Code編碼格式
```
SKU + 批號 + 效期(YYYYMM) + 流水號(001-999)
```

例如：`SAMP59002249AHA12025060600000001`

#### 標籤內容
每張標籤包含：
- QR Code圖像
- 商品名稱
- 商品序號
- 規格
- 批號
- 編碼信息
- 標籤序號

## 技術實現

### 前端組件

#### PosinItemsTable.vue
- 主要的商品項目列表組件
- 支援國際化(i18n)
- 響應式設計
- 整合QR Code生成功能

#### PosinItemsView.vue
- 商品項目頁面視圖
- 顯示進貨單基本信息
- 包含導航和返回功能

### 後端API

#### 商品項目獲取
```
GET /api/v1/posin/{id}/items
```
獲取特定進貨單的所有商品項目

#### QR Code標籤生成
```
POST /api/v1/generate-qr-labels
```
生成QR Code標籤並返回PDF文件

### 國際化支援

#### 支援語言
- 繁體中文 (zh-TW)
- 英文 (en)

#### 翻譯文件
- `frontend/src/i18n/locales/zh-TW.js`
- `frontend/src/i18n/locales/en.js`

## 使用方式

### 1. 訪問商品項目列表
```
http://localhost:3000/posin/{進貨單ID}/items
```

### 2. 生成QR Code標籤
1. 在商品項目列表中點擊「生成QR」按鈕
2. 查看商品詳細信息
3. 設定要生成的標籤數量
4. 點擊「下載標籤」按鈕
5. 系統會自動下載PDF格式的標籤文件

### 3. 預覽標籤樣式
- 點擊「預覽標籤樣式」按鈕可查看標籤預覽效果

## 文件結構

```
frontend/
├── src/
│   ├── components/
│   │   └── PosinItemsTable.vue       # 商品項目表格組件
│   ├── views/
│   │   └── PosinItemsView.vue        # 商品項目視圖
│   ├── i18n/
│   │   └── locales/
│   │       ├── zh-TW.js              # 繁體中文翻譯
│   │       └── en.js                 # 英文翻譯
│   └── router/
│       └── index.js                  # 路由配置

backend/
├── app/
│   └── Http/
│       └── Controllers/
│           └── PosinController.php   # 進貨單控制器
└── routes/
    └── api_v1.php                    # API路由配置
```

## 配置要求

### 前端依賴
- Vue 3
- Vue Router
- Vue I18n
- Axios
- Tailwind CSS

### 後端依賴
- Laravel 9+
- PHP 8.0+

## 開發注意事項

1. **QR Code生成**：目前使用HTML模擬，生產環境建議使用專業的QR Code生成庫
2. **PDF生成**：需要整合PDF生成庫（如DomPDF或TCPDF）
3. **權限控制**：建議添加適當的權限驗證
4. **錯誤處理**：已包含基本的錯誤處理，可根據需要擴展
5. **性能優化**：大量數據時建議添加分頁功能

## 未來改進

1. 實際的QR Code圖像生成
2. 更多標籤格式選項
3. 批量操作功能
4. 標籤打印預覽
5. 標籤模板自定義

---

*此文件記錄了進貨單商品項目QR Code功能的完整實現，包括前端界面、後端API、國際化支援等所有相關功能。*
